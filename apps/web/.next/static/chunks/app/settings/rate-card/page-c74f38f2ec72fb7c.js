(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[387],{86221:function(e,a,s){Promise.resolve().then(s.bind(s,59286))},59286:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return j}});var t=s(69245),r=s(69703),l=s(64439),n=s(89619),c=s(26218),i=s(34673),d=s(24691),o=s(55744),m=s(19118),x=s(24477),h=s(82872),u=s(74067),f=s(69431);function j(){let{rateCard:e,fetchRateCard:a,createRateCardItem:s,updateRateCardItem:j,deleteRateCardItem:v,isLoading:p}=(0,l.m)(),[g,b]=(0,r.useState)(""),[y,w]=(0,r.useState)(null),[C,k]=(0,r.useState)({name:"",rate:""});(0,r.useEffect)(()=>{a()},[a]);let z=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())),Z=async()=>{if(C.name.trim()&&C.rate.trim())try{await s({name:C.name.trim(),rate:parseInt(C.rate)}),k({name:"",rate:""})}catch(e){console.error("Failed to create rate card item:",e)}},S=async(e,a,s)=>{try{await j(e,{name:a,rate:s}),w(null)}catch(e){console.error("Failed to update rate card item:",e)}},I=async e=>{if(confirm("Are you sure you want to delete this rate card item?"))try{await v(e)}catch(e){console.error("Failed to delete rate card item:",e)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsxs)("div",{className:"border-b p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),"Back to Workbench"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Rate Card Management"})]}),(0,t.jsx)(f.T,{})]}),(0,t.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"Add New Rate Card Item"})}),(0,t.jsx)(c.aY,{children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(i.I,{placeholder:"Role/Service Name",value:C.name,onChange:e=>k(a=>({...a,name:e.target.value})),className:"flex-1"}),(0,t.jsx)(i.I,{type:"number",placeholder:"Rate (AUD per hour)",value:C.rate,onChange:e=>k(a=>({...a,rate:e.target.value})),className:"w-48"}),(0,t.jsxs)(n.z,{onClick:Z,disabled:!C.name.trim()||!C.rate,children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsx)(c.Ol,{children:(0,t.jsx)(c.ll,{children:"All Rate Card Items"})}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.I,{placeholder:"Search roles/services...",value:g,onChange:e=>b(e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[z.length," of ",e.length," items"]})]}),(0,t.jsx)(d.x,{className:"h-[600px]",children:p?(0,t.jsx)("div",{className:"text-center py-8",children:"Loading rate card..."}):0===z.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:g?"No items found matching your search.":"No rate card items found."}):(0,t.jsx)("div",{className:"space-y-2",children:z.map(e=>(0,t.jsx)(c.Zb,{className:"p-4",children:y===e.id?(0,t.jsx)(N,{item:e,onSave:(a,s)=>S(e.id,a,s),onCancel:()=>w(null)}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["AUD $",e.rate,"/hour"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>w(e.id),children:(0,t.jsx)(h.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>I(e.id),className:"text-destructive hover:text-destructive",children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})})]})]})},e.id))})})]})]})]})]})}function N(e){let{item:a,onSave:s,onCancel:l}=e,[c,d]=(0,r.useState)(a.name),[o,m]=(0,r.useState)(a.rate.toString());return(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(i.I,{value:c,onChange:e=>d(e.target.value),className:"flex-1",autoFocus:!0}),(0,t.jsx)(i.I,{type:"number",value:o,onChange:e=>m(e.target.value),className:"w-48"}),(0,t.jsx)(n.z,{onClick:()=>{c.trim()&&o&&s(c.trim(),parseInt(o))},size:"sm",children:"Save"}),(0,t.jsx)(n.z,{onClick:l,variant:"outline",size:"sm",children:"Cancel"})]})}},24691:function(e,a,s){"use strict";s.d(a,{x:function(){return c}});var t=s(69245),r=s(69703),l=s(33061),n=s(1917);let c=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,t.jsxs)(l.fC,{ref:a,className:(0,n.cn)("relative overflow-hidden",s),...c,children:[(0,t.jsx)(l.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(i,{}),(0,t.jsx)(l.Ns,{})]})});c.displayName=l.fC.displayName;let i=r.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...c}=e;return(0,t.jsx)(l.gb,{ref:a,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 border-t border-t-transparent p-[1px]",s),...c,children:(0,t.jsx)(l.q4,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=l.gb.displayName},55744:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(67179).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24477:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(67179).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[530,271,340,321,433,744],function(){return e(e.s=86221)}),_N_E=e.O()}]);