(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{12865:function(e,t,a){Promise.resolve().then(a.bind(a,51151))},51151:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var l=a(69245),s=a(69703);function n(){let[e,t]=(0,s.useState)(!0),[a,n]=(0,s.useState)(""),[i,o]=(0,s.useState)("#20e28f"),[r,c]=(0,s.useState)("Plus Jakarta Sans"),[d,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();n(t.logoUrl||""),o(t.primaryColor||"#20e28f"),c(t.fontFamily||"Plus Jakarta Sans")}}catch(e){console.error("Failed to load settings",e)}finally{t(!1)}})()},[]);let u=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;m(!0);let l=new FormData;l.append("logo",a);try{let e=await fetch("/api/settings/logo",{method:"POST",body:l}),t=await e.json();(null==t?void 0:t.url)&&n(t.url)}catch(e){console.error("Upload failed",e)}finally{m(!1)}},h=async()=>{try{await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({logoUrl:a,primaryColor:i,fontFamily:r})}),alert("Settings saved")}catch(e){console.error("Save failed",e),alert("Failed to save settings")}};return e?(0,l.jsx)("div",{className:"p-6",children:"Loading..."}):(0,l.jsxs)("div",{className:"p-6 max-w-2xl",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Brand Settings"}),(0,l.jsx)("label",{className:"block mb-2",children:"Logo"}),a?(0,l.jsx)("img",{src:a,alt:"logo",className:"h-12 mb-2"}):(0,l.jsx)("div",{className:"h-12 mb-2 text-sm text-muted-foreground",children:"No logo"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:u}),d&&(0,l.jsx)("div",{className:"text-sm mt-2",children:"Uploading..."}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Primary Color"}),(0,l.jsx)("input",{type:"color",value:i,onChange:e=>o(e.target.value)})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Font Family"}),(0,l.jsxs)("select",{value:r,onChange:e=>c(e.target.value),children:[(0,l.jsx)("option",{children:"Plus Jakarta Sans"}),(0,l.jsx)("option",{children:"Inter"}),(0,l.jsx)("option",{children:"Roboto"}),(0,l.jsx)("option",{children:"Helvetica"})]})]}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("button",{onClick:h,className:"px-4 py-2 bg-primary text-white rounded",children:"Save"})})]})}}},function(e){e.O(0,[321,433,744],function(){return e(e.s=12865)}),_N_E=e.O()}]);